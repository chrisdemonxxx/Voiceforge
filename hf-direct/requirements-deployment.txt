# VoiceForge API - Python ML Dependencies for 80GB A100 GPU Deployment
# Production-ready ML stack with all models

# ============================================================================
# Core ML Framework (CUDA 12.1 wheels for GPU support)
# ============================================================================
# NOTE: PyTorch with CUDA 12.1 is installed separately in Dockerfile (line 60)
# to ensure proper CUDA wheel installation. Do not add torch/torchaudio here.
# transformers/accelerate/optimum versions coupled - parler-tts requires transformers==4.46.1
transformers==4.46.1
accelerate==0.27.2
optimum==1.18.0

# ============================================================================
# Text-to-Speech (TTS) Models
# ============================================================================
parler-tts==0.2.3
TTS==0.22.0

# ============================================================================
# Speech-to-Text (STT)
# ============================================================================
# NOTE: faster-whisper >=1.2.0 compatible with tokenizers >=0.20
faster-whisper==1.2.1
openai-whisper==20231117

# ============================================================================
# Voice Activity Detection (VAD)
# ============================================================================
silero-vad==6.2.0
webrtcvad==2.0.10

# ============================================================================
# Voice Large Language Model (VLLM)
# ============================================================================
# NOTE: vllm 0.4.3 is last version compatible with PyTorch 2.1.2+cu121
# vllm 0.6+ requires PyTorch 2.5+ (incompatible with current torch version)
vllm==0.4.3
sentencepiece==0.2.0
protobuf==4.25.3

# ============================================================================
# Voice Cloning
# ============================================================================
resemblyzer==0.1.1.dev0
speechbrain==0.5.16

# ============================================================================
# Audio Processing
# ============================================================================
# NOTE: numpy and numba are pre-installed in requirements-build.txt
librosa==0.10.1
soundfile==0.12.1
pydub==0.25.1
audioread==3.0.1
resampy==0.4.2
scipy==1.11.4

# ============================================================================
# Model Management & Optimization
# ============================================================================
# NOTE: bitsandbytes version must match torch CUDA wheel (cu121)
# NOTE: huggingface-hub >=0.23.2 required by transformers 4.46.1
huggingface-hub==0.23.2
safetensors==0.4.1
bitsandbytes==0.42.0

# ============================================================================
# API & Web Framework
# ============================================================================
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-multipart==0.0.6
aiofiles==23.2.1

# ============================================================================
# Utilities
# ============================================================================
pyyaml==6.0.1
python-dotenv==1.0.0
requests==2.31.0
httpx==0.26.0
pillow==10.2.0
tqdm==4.66.1
loguru==0.7.2
psutil==5.9.7

# ============================================================================
# Testing & Development
# ============================================================================
pytest==7.4.4
pytest-asyncio==0.23.3
